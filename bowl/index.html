<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto bowl</title>
    <style type="text/css">
        @media (max-width: 767px) {
            .hidden-mobile {
                display: none;
            }

            label span {
                display: none;
            }

            form label {
                margin-left: 10px;
                margin-right: 10px;
            }
        }

        .wrapper {
            background-color: #281b24;
            max-width: 1000px;
            margin: 0 auto
        }

        .header {
            text-align: center;
            background-image: url('./bg.webp');
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            min-height: 450px;
            background-position: top;
        }

        #start_btn {
            background: transparent;
            border: none;
            opacity: 65%;
            width: 38%;
            margin: 0 auto;
            display: block;
        }

        #inputs {
            text-align: center;
        }

        #controls {
            color: rgba(255, 255, 255, 0.7);
            font-family: fantasy;
            padding: 30px;
        }

        #bowl {
            width: 100%;
        }
    </style>
    <style>
        /* add styles for the button */
        #play {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        /* styles for the two columns of text */
        .column {
            float: left;
            width: 50%;
            font-size: 18px;
        }

        /* styles for the radio buttons */
        input[type="radio"] {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid black;
            margin-right: 10px;
            display: block;
            margin: 0 auto;

        }

        /* styles for selected radio button */
        input[type="radio"]:checked {
            box-shadow: 0 0 10px #fff;
        }

        /* colors for the 7 chakras */
        input.chakra-radios[value="1"] {
            background-color: #ff0000;
        }

        input.chakra-radios[value="2"] {
            background-color: #ff7f00;
        }

        input.chakra-radios[value="3"] {
            background-color: #ffff00;
        }

        input.chakra-radios[value="4"] {
            background-color: #00ff00;
        }

        input.chakra-radios[value="5"] {
            background-color: #0000ff;
        }

        input.chakra-radios[value="6"] {
            background-color: #4b0082;
        }

        input.chakra-radios[value="7"] {
            background-color: #8b00ff;
        }

        label {
            display: inline-block;
            margin-right: 5px;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 2px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 31px;
            height: 31px;
            /* border-radius: 50%; */
            background-image: url('slider.png');
            background-position: center;
            background-size: 100% 100%;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            /* border-radius: 50%; */
            background: url('slider.png') center;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="wrapper">

        <div class="header">
            <br>

            <br>
        </div>
        <!-- Display the countdown timer in an element -->
        <!-- <p id="demo"></p> -->
        <!-- <select name="chakra" id="chakra" onchange="change_file()">
        <option value="1" selected>1</option>
        <option value=2>2</option>
        <option value=3>3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
    </select> -->

        <div id="controls">
            <button id='start_btn' onclick="kick()">
                <!-- <img id='bowl' src="bowl.png" alt=""> -->
                <img src="icon.png" width="38px" alt="">
                <audio id="player" controls>
                    <source id="audio_src" src="1_root.mp3" type="audio/mp3">
                </audio>
            </button>
            <div class="slidecontainer container">
                <input type="range" min="0.5" max="100" step="0.5" value="0.5" class="slider" id="period">
                <p id="value">0.5 minute(s)</p>
                <!-- <input type="number" id="period" value="1"> -->
            </div>
            </br />
            <form action="#" id="inputs">
                <div class="column">Smile! you are alive!</div>
                <div class="column">You are here and now </div>
                <br style="clear: both;">
                <!-- <button id="play" onclick="playAudio()">Play</button> -->
                <br><br>
                <label>
                    <input type="radio" class="chakra-radios" name="sound" value="1">
                    <span>
                        Root Chakra
                    </span>
                </label>
                <label>
                    <input type="radio" class="chakra-radios" name="sound" value="2">
                    <span>
                        Sacral Chakra
                </label>
                <label>
                    <input type="radio" class="chakra-radios" name="sound" value="3">
                    <span>
                        Solar Plexus Chakra</span>
                </label>
                <label>
                    <input type="radio" class="chakra-radios" name="sound" value="4">
                    <span>
                        Heart Chakra
                </label>
                <label>
                    <input type="radio" class="chakra-radios" name="sound" value="5">
                    <span>Throat Chakra
                </label>
                <label>
                    <input type="radio" class="chakra-radios" name="sound" value="6">
                    <span> Third Eye Chakra
                </label>
                <label>
                    <input type="radio" class="chakra-radios" name="sound" value="7">
                    <span> Crown Chakra
                </label>
                <br><br>
            </form>
        </div>
        <script>
            files = [
                '1_root.mp3',
                '2_sacral.mp3',
                '3_solar_plexus.mp3',
                '4_heart.mp3',
                '6_eye.mp3',
                '5_throat.mp3',
                '7_crown.mp3'
            ];

            let quotes =[
                "It is only when the mind is not escaping in any form that it is possible to see the whole movement of thought as it is and therefore come directly into contact with that which is timeless - Jiddu Krishnamurti",
                "The highest form of intelligence is to observe yourself without judgement - Jiddu Krishnamurti",
                "To be aware of a single shortcoming in oneself is more useful than to be aware of a thousand in someone else. - Jiddu Krishnamurti",
                "The most difficult thing in the world is to know yourself. - Jiddu Krishnamurti",
                "The primary cause of unhappiness is never the situation but your thoughts about it. - Eckhart Tolle",
                "Realize deeply that the present moment is all you have. Make the NOW the primary focus of your life. - Eckhart Tolle",
                "The power for creating a better future is contained in the present moment: You create a good future by creating a good present. - Eckhart Tolle",
                "The mind is a superb instrument if used rightly. Used wrongly, however, it becomes very destructive. - Eckhart Tolle",
                "The past has no power to stop you from being present now. Only your grievance about the past can do that. - Eckhart Tolle",
                "Being spiritual has nothing to do with what you believe and everything to do with your state of consciousness. - Eckhart Tolle",
                "The most common ego identifications have to do with possessions, the work you do, social status and recognition, knowledge and education, physical appearance, special abilities, relationships, personal and family history, belief systems, and often nationalistic, racial, religious, and other collective identifications. - Eckhart Tolle",
                "The greatest achievement of humanity is not its works of art, science, or technology, but the recognition of its own dysfunction. - Eckhart Tolle",
                "The present moment is the only point of power. The past has no power to stop you from being present now. The future has no power to stop you from being present now. - Eckhart Tolle",
                "Awareness is the greatest agent for change. - Eckhart Tolle",
                "Nature does not hurry, yet everything is accomplished. - Lao Tzu",
                "Smile! you are alive!",
                "The journey of a thousand miles begins with one step. - Lao Tzu",
                "He who knows others is wise; he who knows himself is enlightened. - Lao Tzu",
                "The world is a sacred vessel that cannot be acted upon, it can only be held. He who holds it, holds it in trust; he who acts upon it, spoils it. - Lao Tzu",
                "The most precious gift we can offer anyone is our attention. - Thich Nhat Hanh",
                "The greatest gift is the gift of understanding. - Thich Nhat Hanh",
                "The present moment is filled with joy and happiness. If you are attentive, you will see it. - Thich Nhat Hanh",
                "The miracle is not to fly in the air, or to walk on the water, but to walk on the earth. - Thich Nhat Hanh",
                "The most basic and powerful way to connect to another person is to listen. Just listen. Perhaps the most important thing we ever give each other is our attention. - Thich Nhat Hanh",
                "We have more possibilities available in each moment than we realize. - Thich Nhat Hanh",
                "When you love someone, the best thing you can offer is your presence. How can you love if you are not there? - Thich Nhat Hanh",
                "The mind can go in a thousand directions, but on this beautiful path, I walk in peace. With each step, the wind blows. With each step, a butterfly flutters by. - Thich Nhat Hanh",
                "Life is available only in the present moment. - Thich Nhat Hanh",
                "The best way to take care of the future is to take care of the present moment. - Thich Nhat Hanh",
                "The goal is not to be better than the other man, but your previous self. - Dalai Lama",
                "The ultimate authority must always rest with the individual's own reason and critical analysis. - Dalai Lama",
                "The true hero is one who conquers his own anger and hatred. - Dalai Lama",
                "The ultimate source of happiness is not money and power, but warm-heartedness. - Dalai Lama",
                "The purpose of our lives is to be happy. - Dalai Lama",
                "We can never obtain peace in the outer world until we make peace with ourselves. - Dalai Lama",
                "If you want others to be happy, practice compassion. If you want to be happy, practice compassion. - Dalai Lama",
                "Happiness is not something ready made. It comes from your own actions. - Dalai Lama",
                "Be kind whenever possible. It is always possible. - Dalai Lama",
                "The more you are motivated by love, the more fearless and free your action will be. - Dalai Lama"
            ];
            var col1 = document.getElementById("quote1");
            var col2 = document.getElementById("quote2");
            var music = document.getElementById("player");
            var button = document.getElementById("start_btn");
            var input = document.getElementById("period");
            var y = document.getElementById("value");
            var source = document.getElementById('audio_src');
            var radios = document.getElementsByName('sound');
            col1.innerHTML = quotes[Math.floor(Math.random()*quotes.length)]
            col2.innerHTML = quotes[Math.floor(Math.random()*quotes.length)]
            input.oninput = function() {
                y.innerHTML = this.value + ' minute(s)';
            }
            // Register a service worker
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('./sw.js').then(registration => {
                        console.log('Service worker registered: ', registration);
                    }).catch(error => {
                        console.log('Service worker registration failed: ', error);
                    });
                });
            }
            function setSource() {
                var selectedSound = document.querySelector('input[name="sound"]:checked');
                if (selectedSound) {
                    opt = selectedSound.value - 1;
                    source.src = files[opt];
                }
                // audio.volume = volume / 100;
                music.load();
            }
            // function change_file() {
            //     opt = chakra.value - 1
            //     source.src = files[opt]
            //     music.load();
            // }
            const myWorker = new Worker('./worker.js');

            function kick() {
                const period = input.value * 60 //seconds
                music.play();
                myWorker.postMessage([period]);
                button.disabled = true;
            }
            myWorker.onmessage = (e) => {
                // result.textContent = e.data;
                console.log('Message received from worker');
                music.play();
            }

            for (var i = 0, length = radios.length; i < length; i++) {
                radios[i].addEventListener('change', setSource);
            }
        </script>
    </div>
</body>

</html>